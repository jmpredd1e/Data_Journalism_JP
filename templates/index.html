<html>
    <head>
        <title> Home Page </title>
        <link rel="stylesheet" href="styles.css">
    </head>
    <body>
        {% extends "base.html" %}
        {% block title %}Home{% endblock %}
        {% block content %}
        <h1> 
            Vastly racial proportionalities within NYPD resistance arrests
        </h1>
        
        <h2>
            Click on a borough and select a year
        </h2>
        <div id="boroughs">
            {% include 'NYC_boroughs.svg' %}
        </div>
        

        <form action="/date" method="GET">
            <label for="date">Choose a date in January:</label><br>
            <select name="date" id="date_select">
                {% for date in dates %}
                <option value="{{ date }}">{{ date }}</option>
                {% endfor %}
            </select>
             <input type="hidden" name="borough" id="borough_input">

             <br><br>
            <input type="submit" value="Submit">
         </form>
        </div>

        <h2 class> Arrest patterns show racial disproportionality across boroughs</h2>
        <p>
             This data reveals that certain racial groups are far more profiled as seen in <br>
            the disproportionate amount of resisting arrests there are. This points to the <br>
            fundamental racism and systemic differences in how enforcement is applied.<br> 
        </p>
        <h2> Through clever data storytelling these patterns become much more highlighted</h2>
        <p>
            Only through the detailed infographics and the clever use of graphical <br>
            evidence is it evident that there can be a clear pattern discerned from NYPD <br>
            arrest information.<br>
        </p>
        <h2> Creating an analysis of each borough truly reveals the underlying disparities. </h2>
        <p>
            Looking at arrest data by borough exposes differences that citywide averages <br>
            can hide. It shows how enforcement patterns vary from place to place, <br>
            reflecting localized dynamics in how laws are applied and experienced across <br>
            NYC. <br>
        </p>
        <script>
            const boroughGroups = document.querySelectorAll("svg g");
            const boroughInput = document.getElementById("borough_input");
            const submitButton = document.getElementById("submit_button");
            

        boroughGroups.forEach(group => {
            group.addEventListener("click", () => {
                // Remove previous selections
                boroughGroups.forEach(g => g.classList.remove("selected"));

                // Mark as selected
                group.classList.add("selected");

                const borough = group.getAttribute("id");
                boroughInput.value = borough;

                // Enable submit button once a borough is selected
                submitButton.disabled = !borough;

                console.log("Selected borough:", borough);
            });
        });
        </script>

        {% endblock %}

        <footer>
            <a href="https://catalog.data.gov/dataset/nypd-arrest-data-year-to-date">Link to my data</a>
        </footer>
    </body>
</html>